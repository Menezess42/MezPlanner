============================= test session starts ==============================
platform linux -- Python 3.11.11, pytest-8.3.3, pluggy-1.5.0 -- /nix/store/3i8fa331nr390ylkf1xka5ah0hvbvfbs-python3-3.11.11/bin/python3.11
cachedir: .pytest_cache
rootdir: /mnt/hdmenezess42/GitProjects/MezPlanner/MezPlanner
plugins: flask-1.3.0, typeguard-4.4.1
collecting ... collected 4 items

test/test_routes.py::test_create_task ERROR                              [ 25%]
test/test_routes.py::test_get_task ERROR                                 [ 50%]
test/test_routes.py::test_update_task ERROR                              [ 75%]
test/test_routes.py::test_delete_task ERROR                              [100%]

==================================== ERRORS ====================================
______________________ ERROR at setup of test_create_task ______________________

    @pytest.fixture
    def app():
        """Configura um app Flask de teste."""
        app = Flask(__name__)
        app.config["TESTING"] = True
        app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///:memory:"
        app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False
    
        db.init_app(app)
        app.register_blueprint(task, url_prefix="/")
    
        with app.app_context():
>           db.create_all()

test/test_routes.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:900: in create_all
    self._call_for_binds(bind_key, "create_all")
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:881: in _call_for_binds
    getattr(metadata, op_name)(bind=engine)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:5868: in create_all
    bind._run_ddl_visitor(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:3253: in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2459: in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py:664: in traverse_single
    return meth(obj, **kw)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:896: in visit_metadata
    collection = sort_tables_and_constraints(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:1328: in sort_tables_and_constraints
    dependent_on = fkc.referred_table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:4753: in referred_table
    return self.elements[0].column.table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:1141: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3170: in column
    return self._resolve_column()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = ForeignKey('user.usr_id')

    def _resolve_column(
        self, *, raiseerr: bool = True
    ) -> Optional[Column[Any]]:
        _column: Column[Any]
    
        if isinstance(self._colspec, str):
            parenttable, tablekey, colname = self._resolve_col_tokens()
    
            if self._unresolvable or tablekey not in parenttable.metadata:
                if not raiseerr:
                    return None
>               raise exc.NoReferencedTableError(
                    f"Foreign key associated with column "
                    f"'{self.parent}' could not find "
                    f"table '{tablekey}' with which to generate a "
                    f"foreign key to target column '{colname}'",
                    tablekey,
E                   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'Tasks.usr_id' could not find table 'user' with which to generate a foreign key to target column 'usr_id'

/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3193: NoReferencedTableError
_______________________ ERROR at setup of test_get_task ________________________

    @pytest.fixture
    def app():
        """Configura um app Flask de teste."""
        app = Flask(__name__)
        app.config["TESTING"] = True
        app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///:memory:"
        app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False
    
        db.init_app(app)
        app.register_blueprint(task, url_prefix="/")
    
        with app.app_context():
>           db.create_all()

test/test_routes.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:900: in create_all
    self._call_for_binds(bind_key, "create_all")
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:881: in _call_for_binds
    getattr(metadata, op_name)(bind=engine)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:5868: in create_all
    bind._run_ddl_visitor(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:3253: in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2459: in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py:664: in traverse_single
    return meth(obj, **kw)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:896: in visit_metadata
    collection = sort_tables_and_constraints(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:1328: in sort_tables_and_constraints
    dependent_on = fkc.referred_table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:4753: in referred_table
    return self.elements[0].column.table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:1141: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3170: in column
    return self._resolve_column()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = ForeignKey('user.usr_id')

    def _resolve_column(
        self, *, raiseerr: bool = True
    ) -> Optional[Column[Any]]:
        _column: Column[Any]
    
        if isinstance(self._colspec, str):
            parenttable, tablekey, colname = self._resolve_col_tokens()
    
            if self._unresolvable or tablekey not in parenttable.metadata:
                if not raiseerr:
                    return None
>               raise exc.NoReferencedTableError(
                    f"Foreign key associated with column "
                    f"'{self.parent}' could not find "
                    f"table '{tablekey}' with which to generate a "
                    f"foreign key to target column '{colname}'",
                    tablekey,
E                   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'Tasks.usr_id' could not find table 'user' with which to generate a foreign key to target column 'usr_id'

/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3193: NoReferencedTableError
______________________ ERROR at setup of test_update_task ______________________

    @pytest.fixture
    def app():
        """Configura um app Flask de teste."""
        app = Flask(__name__)
        app.config["TESTING"] = True
        app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///:memory:"
        app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False
    
        db.init_app(app)
        app.register_blueprint(task, url_prefix="/")
    
        with app.app_context():
>           db.create_all()

test/test_routes.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:900: in create_all
    self._call_for_binds(bind_key, "create_all")
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:881: in _call_for_binds
    getattr(metadata, op_name)(bind=engine)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:5868: in create_all
    bind._run_ddl_visitor(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:3253: in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2459: in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py:664: in traverse_single
    return meth(obj, **kw)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:896: in visit_metadata
    collection = sort_tables_and_constraints(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:1328: in sort_tables_and_constraints
    dependent_on = fkc.referred_table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:4753: in referred_table
    return self.elements[0].column.table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:1141: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3170: in column
    return self._resolve_column()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = ForeignKey('user.usr_id')

    def _resolve_column(
        self, *, raiseerr: bool = True
    ) -> Optional[Column[Any]]:
        _column: Column[Any]
    
        if isinstance(self._colspec, str):
            parenttable, tablekey, colname = self._resolve_col_tokens()
    
            if self._unresolvable or tablekey not in parenttable.metadata:
                if not raiseerr:
                    return None
>               raise exc.NoReferencedTableError(
                    f"Foreign key associated with column "
                    f"'{self.parent}' could not find "
                    f"table '{tablekey}' with which to generate a "
                    f"foreign key to target column '{colname}'",
                    tablekey,
E                   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'Tasks.usr_id' could not find table 'user' with which to generate a foreign key to target column 'usr_id'

/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3193: NoReferencedTableError
______________________ ERROR at setup of test_delete_task ______________________

    @pytest.fixture
    def app():
        """Configura um app Flask de teste."""
        app = Flask(__name__)
        app.config["TESTING"] = True
        app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///:memory:"
        app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False
    
        db.init_app(app)
        app.register_blueprint(task, url_prefix="/")
    
        with app.app_context():
>           db.create_all()

test/test_routes.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:900: in create_all
    self._call_for_binds(bind_key, "create_all")
/nix/store/0srzfd3d3nnf4mh11p29jpika5i5q70f-python3.11-flask-sqlalchemy-3.1.1/lib/python3.11/site-packages/flask_sqlalchemy/extension.py:881: in _call_for_binds
    getattr(metadata, op_name)(bind=engine)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:5868: in create_all
    bind._run_ddl_visitor(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:3253: in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2459: in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py:664: in traverse_single
    return meth(obj, **kw)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:896: in visit_metadata
    collection = sort_tables_and_constraints(
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py:1328: in sort_tables_and_constraints
    dependent_on = fkc.referred_table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:4753: in referred_table
    return self.elements[0].column.table
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:1141: in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3170: in column
    return self._resolve_column()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = ForeignKey('user.usr_id')

    def _resolve_column(
        self, *, raiseerr: bool = True
    ) -> Optional[Column[Any]]:
        _column: Column[Any]
    
        if isinstance(self._colspec, str):
            parenttable, tablekey, colname = self._resolve_col_tokens()
    
            if self._unresolvable or tablekey not in parenttable.metadata:
                if not raiseerr:
                    return None
>               raise exc.NoReferencedTableError(
                    f"Foreign key associated with column "
                    f"'{self.parent}' could not find "
                    f"table '{tablekey}' with which to generate a "
                    f"foreign key to target column '{colname}'",
                    tablekey,
E                   sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'Tasks.usr_id' could not find table 'user' with which to generate a foreign key to target column 'usr_id'

/nix/store/k3mq7r1q5ckf6wjf8inyyl0g7k5ppn1v-python3.11-sqlalchemy-2.0.36/lib/python3.11/site-packages/sqlalchemy/sql/schema.py:3193: NoReferencedTableError
=========================== short test summary info ============================
ERROR test/test_routes.py::test_create_task - sqlalchemy.exc.NoReferencedTabl...
ERROR test/test_routes.py::test_get_task - sqlalchemy.exc.NoReferencedTableEr...
ERROR test/test_routes.py::test_update_task - sqlalchemy.exc.NoReferencedTabl...
ERROR test/test_routes.py::test_delete_task - sqlalchemy.exc.NoReferencedTabl...
============================== 4 errors in 0.94s ===============================
